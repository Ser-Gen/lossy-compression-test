The way the test scripts work is that they find two images in the target format the straddle the JPEG quality metric (e.g. SSIM). The interpolation is used to calculate a file size. This requires the target format to be capable of producing an image that has a higher quality metric value than the JPEG.

In running 'hevc_jpeg_ssim.py' at 'q=95' and 'image=images/tecnick/RGB_OR_1200x1200_034.png', I found that HEVC was unable to match the SSIM value produced by a JPEG at quality 95.

[josh@saturn web_image_formats] ./hevc_jpeg_ssim.py 95 images/tecnick/RGB_OR_1200x1200_034.png 
JPEG SSIM: 0.986128, HEVC-P SSIM: 0.984821
Target format cannot match JPEG quality, aborting!

This problem does not occur in images other than tecnick 034. Looking at the 034 image, it's very dark all around, very little complexity/structure compared to others. This could be messing with HEVC or SSIM, not sure which.

The solution I chose to implement is that so long as the SSIM difference is small (< 0.001) we'll just charge the image format in question with the largest file it produces, the file with the close SSIM value.

In the particular case of HEVC and the 034 image HEVC is charged with creating a file that is more than 2x larger than the JPEG.
